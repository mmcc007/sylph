# Config file for Flutter tests on AWS Device Farm.
# Auto-creates projects and device pools if needed.
# Configures android and ios test runs.
# Builds, uploads and runs tests.
# Then monitors tests and returns final pass/fail result.
# Note: assumes the 'aws' command line utility is logged-in.

project_name: flutter tests
default_job_timeout: 5 # minutes
tmp_dir: /tmp/device_farm
device_pools:
    - pool_name: android pool 1
      pool_type: android
      devices:
        - name: Samsung Galaxy S9 (Unlocked)
          model: SM-G960U1
          os: 8.0.0
    - pool_name: ios pool 1
      pool_type: ios
      devices:
        - name: Apple iPhone X
          model: A1865
          os: 12.0

test_suites:
  - test_suite: my tests 1
    app_path: /Users/jenkins/flutter_app
    testspec: test_spec.yaml
    tests:
      - lib/main.dart
    device_pools:
      - android pool 1
#      - ios pool 1
    job_timeout: 5 # minutes

#  - test_suite: my tests 1
#    app_path: /Users/jenkins/flutter_app
#    testspec: test_spec1.yaml
#    tests:
#      - lib/main1.dart
#      - lib/main2.dart
#    device_pools:
#      - android pool 1
#      - ios pool 1
#    job_timeout: 5 # minutes
#
#  - test_suite: my tests 2
#    app_path: ~/flutter_app
#    testspec: test_spec1.yaml
#    tests:
#      - lib/main2.dart
#    device_pools:
#      - android pool 1
#      - ios pool 1
#    job_timeout: 5 # minutes
